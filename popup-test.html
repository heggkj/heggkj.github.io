<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Popup Test v4.0</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/magnific-popup.js/1.1.0/magnific-popup.min.css">
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
            line-height: 1.6;
        }

        .center-content {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }

        .content {
            color: #fff;
            text-align: center;
            padding: 20px;
        }
    </style>
</head>
<body>
    <div class="content">
        <p>
            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas hendrerit justo ut justo consequat, ac volutpat erat condimentum. Vestibulum nec tellus id purus aliquam facilisis.
        </p>
        <p>
            Nulla facilisi. Etiam fringilla tortor et metus placerat, non feugiat mauris ultricies. Vestibulum ac metus vel nisl aliquet dignissim. Ut vestibulum elit sit amet libero posuere fringilla. Donec euismod lacinia eros, quis accumsan felis consectetur vel. Aliquam consectetur, tellus ac gravida rhoncus, quam dolor dapibus metus, quis sollicitudin elit elit at nulla. Ut sit amet tristique justo. Vivamus interdum felis sed varius rutrum.
        </p>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/magnific-popup.js/1.1.0/jquery.magnific-popup.min.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            // Check if cookies are enabled
            if (navigator.cookieEnabled) {
                // Check if the video has been shown before using localStorage
                const hasShownVideo = localStorage.getItem("hasShownVideo");

                if (!hasShownVideo) {
                    // Show the popup if the video hasn't been shown before
                    $.magnificPopup.open({
                        items: {
                            src: "https://www.youtube.com/watch?v=6cUe4oMk69E"
                        },
                        type: "iframe",
                        mainClass: "mfp-fade",
                        removalDelay: 160,
                        preloader: false,
                        callbacks: {
                            beforeClose: function() {
                                // Set a cookie to indicate that the video has been shown
                                localStorage.setItem("hasShownVideo", true);
                            }
                        }
                    });
                }
            }
        });
    </script>
</body>
</html>
